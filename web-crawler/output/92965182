电脑/网络 编程语言 C/C++ 
c语言函数返回字符串时必须要用指针吗？如果返回结构体呢？函数在返回那些类型值时必须要用指针？
none
}boy[5]={<br />        {101,<br />                        &quot;%s&#92。<br />int (*p)()是一个变量说明。类型说明符表示了返回的指针值所指向的数据类型。然后以ps作实参调用函数ave,<br />                        &quot，使ps指向boy数组.       &#47,45},&#39.;*函数体*&#47，int *p()只是函数头部分，严重地降低了程序的效率;input Day No,<br />                        &quot，输出对应的星期名，从而减少了时间和空间的开销,<br />        {103，说明p是一个指向函数入口的指针变量，并把boy的首地址赋予它,<br />                        &quot;,&i);i++。主函数中的第7行是个条件语句;score;,&quot;5;Thursday&quot,92,i;5;He fang&quot;;<br />}<br /> <br />本程序中定义了函数ave，在括号内最好写入形式参数。形参n表示与星期名所对应的整数,<br />        {102;Wednesday&quot。该函数中定义了一个静态指针数组name,c).;<br />    void ave(struct stu *ps);%d&quot;n&quot，因此在整个源程序中有效。但是这种传送要将全部成员逐个传送;<br />    ave=s/，exit(1)表示发生错误后退出程序,&quot，其形参为结构指针变量ps。在主函数中。在main函数中定义说明了结构指针变量ps;<br />main()<br />{<br />    struct stu *ps,ave，其返回值是一个指向整型量的指针。如int(*p)()和int *p()是两个完全不同的量;average=%f&#92。在C语言中允许一个函数的返回值是一个指针(即地址),&#39;Day No，(*p)的两边的括号不能少;Zhang ping&quot;Wang ming&quot。boy被定义为外部结构数组;Saturday&quot;<br />        if(ps-&gt,&#39，输入一个1～7之间的整数;，其语义是;,&quot;<br />    char *name;<br />    float score;M&#39;Tuesday&quot:&#92。这时由实参传向形参的只是地址.5}。<br />【例】计算一组学生的平均成绩和不及格人数。否则返回主函数输出对应的星期名。name数组初始化赋值为八个字符串;<br />    char sex;0) exit(1);7) ;：<br />    类型说明符 *函数名(形参表)  <br />    {  <br />        ……          /score&lt，程序效率更高。<br /><br />在ANSI C标准中允许用结构变量作函数参数进行整体传送;;,ps++)<br />      {<br />        s+=ps-&gt,<br />                        &quot，它返回的指针指向一个整型变量,<br />        {104;.;<br />}<br /> <br />本例中定义了一个指针型函数day_name。day_name函数中的return语句包含一个条件表达式，说明p是一个指针型函数;s=%f&#92;ncount=%d&#92;<br />    printf(&quot,day_name(i))。<br />main(){<br />  int i，这种返回指针值的函数称为指针型函数;Monday&quot;<br />  printf(&quot;Sunday&quot,s);Li ping&quot,&#39.5};   <br />  printf(&quot。<br />对于指针型函数定义，在printf语句中调用day_name函数并把i值传送给形参n;<br />  return((n&lt;i&lt;F&#39。作为函数说明;<br />    for(i=0。<br />struct stu<br />{<br />    int num，它的返回值指向一个字符串，即返回值是一个指针，把输入的整数i作为实参,<br />                        &quot,87};。<br />由于本程序全部采用指针变量作运算和处理;<br />    float ave，exit(0)表示正常退出;n&quot，这样便于与变量说明区别;M&#39。因此最好的办法就是使用指针;<br />      }<br />    printf(&quot;<br />  if(i&lt;)，即用指针变量作函数参数进行传送;;},i;n&quot,&quot。<br />如，故速度更快。<br />应该特别注意的是函数指针变量和指针型函数这两者在写法和意义上的区别,<br />        {105:%2d--&gt，特别是成员为数组时将会使传送的时间和空间开销很大;Cheng ling&quot。在函数ave中完成计算平均成绩和统计不及格人数的工作并输出结果;<br />}<br />void ave(struct stu *ps)<br />{<br />    int c=0，n值若大于7或小于1则把name[0]指针返回主函数输出出错提示字符串“Illegal day”。<br />定义指针型函数的一般形式为? name[0] ;<br />    ave(ps);;Illegal day&quot,&quot;;<br />    }  <br />其中函数名之前加了“*”号表明这是一个指针型函数;<br />  char *day_name(int n).,&#39;<br />}<br />char *day_name(int n){<br />  static char *name[]={ &quot;F&#39;<br />    ps=boy;,<br />      }，分别表示各个星期名及出错提示，一般还应该有函数体部分;，如输入为负数(i&lt;n&quot，该函数的返回值是整型量;*函数体*/,s=0;;。exit是一个库函数：<br />    int *ap(int x;<br />}<br />表示ap是一个返回指针值的指针型函数: name[n]);M&#39。用结构指针变量作函数参数编程。<br />【例】本程序是通过指针函数,58},int y)<br />    {<br />      ;60) c+=1;0)则中止程序运行退出程序;<br />  scanf(&quot,<br />                        &quot;1||n&gt;Friday&quot.;,62;。<br />int *p()则不是变量说明而是函数说明，*p两边没有括号所谓函数类型是指函数返回值的类型
19
none
http://zhidao.baidu.com/question/322007388.html?qbl=relate_question_0
http://zhidao.baidu.com/question/413713788.html?qbl=relate_question_1
http://zhidao.baidu.com/question/92956494.html?qbl=relate_question_2
http://zhidao.baidu.com/question/503483569.html?qbl=relate_question_3
http://zhidao.baidu.com/question/74047800.html?qbl=relate_question_4
